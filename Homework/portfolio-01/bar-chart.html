<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Exercise Portfolio</title>
    <link href="./css/style.css" rel="stylesheet" />
  </head>

  <body>

    <header>
      <!-- ADD YOUR NAME -->
      <h1>Qinyu Ding: Exercise Portfolio</h1>
    </header>

    <div id="content">

      <nav>
        <ul>
          <li><a href="./index.html">Return to Main Page</a></li>
        </ul>
      </nav>

      <main>

        <h2><!-- VISUALIZATION TITLE --></h2>

        <p><!-- INFORMATION ABOUT YOUR VISUALIZATION: What is this about? --></p>

        <div id="chart"></div>

      </main>
    </div>

    <script src="./js/d3.min.js"></script>
    <script>
      var width = 600;
      var height = 800;
      var padding = 40;
      var interval = 20;
      var barWidth = 30;
      var xAxisWidth = 500;
      var yAxixsHeight = 700;
      var myData = [];
      d3.csv("./data/mlb-standings.csv", function(e,rawData){
        if(e){
          console.log("Error:"+e);
        }
        rawData.forEach(function(d){
          myData.push([d.team,d.abb,d.win]);
        })
      });

      var svg = d3.select("#chart").append("svg")
                  .attr("width", width)
                  .attr("height", height);
      var rect = svg.selectAll("g")
                   .data(myData)
                   .enter()
                   .append("rect");
      var bar = rect.attr("fill", "gold")
                    .attr("x", function(d,i){
                      return padding+i*interval;
                    })
                    .attr("y", function(d,i){
                      return height-padding-d;
                    })
                    .attr("width", barWidth);
                    .attr("height", function(d){
                      return d;
                    });
        var xScale = d3.scaleLinear()
                       .domain([0,myData.length)
                       .range([padding, xAxisWidth-padding]);
        var yScale = d3.scaleLinear()
                       .domain([0,d3.max(myData,fucntion(d){
                         return d[2];
                       })])
                       .range([padding,yAxixsHeight-padding]);
        var xAxis = d3.axisBottom();
                      .scale(xScale);
        var yAxis = d3.axisRight();
                      .scale(yScale);
        svg.append("g").
           .attr("class", "x-axis")
           .call(xAxis);

    </script>
  </body>
</html>
